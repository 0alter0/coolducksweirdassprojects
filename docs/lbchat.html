<textarea>javascript:function reactHandler(){return Object.values(document.querySelector("#app>div>div"))[1].children[0]._owner}var j=0,rx=!1,hi=!1;function parseCmd(e){if("/"===e.charAt(0)){var a=e.split(" "),t=a[0].replace("/","");return a.splice(0,1),{cmd:t,args:a}}return!1}function setstate(e){var t={};e.forEach((e=>{var a=e.split(":");Number.isNaN(parseInt(a[1]))||parseInt(a[1]).toString()===a[1]&&(a[1]=parseInt(a[1])),t[a[0]]=a[1]})),reactHandler().stateNode.setState(t),a("Set Successful!")}function setv(e){reactHandler().stateNode.props.liveGameController.setVal({path:"c/"+reactHandler().stateNode.props.client.name+"/"+e[0],val:e.slice(1,e.length).join(" ")})}function tsvlog(){window.logsv=!window.logsv,a("SetVal log set to "+(window.logsv?"Enabled":"Disabled"))}function dumpstate(){Object.keys(reactHandler().stateNode.state).map((e=>{var t=reactHandler().stateNode.state[e];if(null==t)return"N/A";Array.from(t)&&"object"==typeof t&&(t="[Array]"),a(e+":"+t)})).join(";")}function setBlook(e){var t=webpackJsonp.push([[],{1234:(e,a,t)=>{a.webpack=t}},[["1234"]]]).webpack("MDrD").a;t[e=Object.keys(t).find((a=>e.toLocaleLowerCase()===a.toLocaleLowerCase()))]?(a("Setting blook to "+e+"!"),reactHandler().stateNode.props.liveGameController.setVal({id:reactHandler().stateNode.props.client.hostId,path:"c/"+reactHandler().stateNode.props.client.name,val:{b:e}}),reactHandler().stateNode.props.client.blook=e):a("No blook with that name was found!")}function unlockBlook(e){var t=webpackJsonp.push([[],{1234:(e,a,t)=>{a.webpack=t}},[["1234"]]]).webpack("MDrD").a;t[e=Object.keys(t).find((a=>e.toLocaleLowerCase()===a.toLocaleLowerCase()))]?(reactHandler().stateNode.state.unlocks.push(e),reactHandler().stateNode.forceUpdate()):a("No blook with that name was found!")}function list(){reactHandler().stateNode.props.liveGameController.getDatabaseVal("c").then((e=>{a("Current Players("+Object.keys(e).length+"): "+Object.keys(e).join(","))}))}function flist(e){reactHandler().stateNode.props.liveGameController.getDatabaseVal("c/"+e).then((e=>{a(null!=e?"Dump: "+JSON.stringify(e):"Player not found!")}))}function sendMessage(e){var t=parseCmd(e);if(t)switch(t.cmd){case"cb":setBlook(t.args.join(" "));break;case"clear":b.innerHTML="";break;case"dumpstate":dumpstate();break;case"list":list();break;case"tlog":tsvlog();break;case"setval":setv(t.args);break;case"setstate":setstate(t.args);break;case"ahelp":a("Advanced Commands: setval(sets val logged by tlog ex /setval b Chicken), tlog(toggles setval log), dumpstate(dumps react state),setstate(sets react state /setstate crypto:5 crypto2:5 etc)");break;case"help":a("Available Commands: help(gives help),ahelp(advanced commands help), cb(changes blook /cb cow), list(lists players connected), dump(dumps all available info about a player, passwords, etc(/dump player)), clear(clears chat), code(gives game code), unlock(unlocks blook on lobby screen)");break;case"dump":flist(t.args.join(" "));break;case"unlock":unlockBlook(t.args.join(" "));break;case"code":a("Game Code: "+reactHandler().stateNode.props.client.hostId);break;default:a("Unrecognized chat command!")}else reactHandler().stateNode.props.liveGameController.setVal({id:reactHandler().stateNode.props.client.hostId,path:"c/"+reactHandler().stateNode.props.client.name+"/msg",val:{i:j,msg:e}}),j++}document.addEventListener("keydown",(function(e){"%60"===e.key&&(hi=!hi,c.style.display=hi?"block":"none")}));const c=document.createElement("div");c.className="chat-box",document.body.appendChild(c);const h=document.createElement("div");h.className="chat-header",h.textContent="Chat",c.appendChild(h);const b=document.createElement("div");b.className="chat-body",c.appendChild(b);const i=document.createElement("input");function a(e){const a=document.createElement("div");a.textContent=e,b.appendChild(a)}i.type="text",i.className="chat-input",i.placeholder="Type a message...",c.appendChild(i),c.style.position="fixed",c.style.bottom="20px",c.style.right="20px",c.style.width="300px",c.style.backgroundColor="#fff",c.style.border="1px solid #ccc",c.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.2)",h.addEventListener("click",(()=>{b.classList.toggle("open")})),i.addEventListener("keydown",(function(e){13===e.keyCode&&(sendMessage(e.srcElement.value),e.srcElement.value="")}));var da=reactHandler().stateNode.props.liveGameController._liveApp.database()._delegate._repoInternal.server_.onDataUpdate_;function handleChat(e,t){null!=t&&e.includes("/msg")&&t?.msg&&(console.log(t.msg),a(e.split("/")[2]+": "+t.msg))}function onsv(e){window.logsv&&a("Path: "+e.path.split("/").splice(2,2).join("/")+" Val: "+("object"==typeof e.val?JSON.stringify(e.val):e.val))}reactHandler().stateNode.props.liveGameController._liveApp.database()._delegate._repoInternal.server_.onDataUpdate_=function(e,a,t,o){console.log(e,a,t,o),handleChat(e,a),da(e,a,t,o)},window.logsv=!1;var orgsv=reactHandler().stateNode.props.liveGameController.setVal;function app(){c.style.wordWrap="break-word"}reactHandler().stateNode.props.liveGameController.setVal=function(){onsv.apply(this,arguments),orgsv.apply(this,arguments)},reactHandler().stateNode.props.liveGameController._liveApp.database().ref(%60${reactHandler().stateNode.props.liveGameController._liveGameCode}%60).on("value",(e=>{})),a("Lobbychat successfully loaded!"),app();</textarea><br><a href="heist.html">Heist</a>
