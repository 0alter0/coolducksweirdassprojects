<textarea>var Version="1.0.24",questions=[],info={numQuestions:0,questionNum:-1,lastAnsweredQuestion:-1,defaultIL:!0,ILSetQuestion:-1},PPT=950,Answered_PPT=950,autoAnswer=!1,showAnswers=!1,inputLag=100;function FindByAttributeValue(e,t,n){n=n||"*";for(var i=document.getElementsByTagName(n),s=0;s<i.length;s++)if(i[s].getAttribute(e)==t)return i[s]}const uiElement=document.createElement("div");uiElement.className="floating-ui",uiElement.style.position="absolute",uiElement.style.top="5%",uiElement.style.left="5%",uiElement.style.width="33vw",uiElement.style.height="auto",uiElement.style.backgroundColor="#381272",uiElement.style.borderRadius="1vw",uiElement.style.boxShadow="0px 0px 10px 0px rgba(0, 0, 0, 0.5)",uiElement.style.zIndex="9999";const handle=document.createElement("div");handle.className="handle",handle.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',handle.style.fontSize="1.5vw",handle.textContent="KaHack!",handle.style.color="white",handle.style.width="97.5%",handle.style.height="2.5vw",handle.style.backgroundColor="#321066",handle.style.borderRadius="1vw 1vw 0 0",handle.style.cursor="grab",handle.style.textAlign="left",handle.style.paddingLeft="2.5%",handle.style.lineHeight="2vw",uiElement.appendChild(handle);const closeButton=document.createElement("div");closeButton.className="close-button",closeButton.textContent="✕",closeButton.style.position="absolute",closeButton.style.top="0",closeButton.style.right="0",closeButton.style.width="12.5%",closeButton.style.height="2.5vw",closeButton.style.backgroundColor="red",closeButton.style.color="white",closeButton.style.borderRadius="0 1vw 0 0",closeButton.style.display="flex",closeButton.style.justifyContent="center",closeButton.style.alignItems="center",closeButton.style.cursor="pointer",handle.appendChild(closeButton);const minimizeButton=document.createElement("div");minimizeButton.className="minimize-button",minimizeButton.textContent="─",minimizeButton.style.color="white",minimizeButton.style.position="absolute",minimizeButton.style.top="0",minimizeButton.style.right="12.5%",minimizeButton.style.width="12.5%",minimizeButton.style.height="2.5vw",minimizeButton.style.backgroundColor="gray",minimizeButton.style.borderRadius="0 0 0 0",minimizeButton.style.display="flex",minimizeButton.style.justifyContent="center",minimizeButton.style.alignItems="center",minimizeButton.style.cursor="pointer",handle.appendChild(minimizeButton);const header=document.createElement("h2");header.textContent="QUIZ ID",header.style.display="block",header.style.margin="1vw",header.style.textAlign="center",header.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',header.style.fontSize="2vw",header.style.color="white",header.style.textShadow="\n  -1px -1px 0 rgb(47, 47, 47),\n  1px -1px 0 rgb(47, 47, 47),\n  -1px 1px 0 rgb(47, 47, 47),\n  1px 1px 0 rgb(47, 47, 47)\n",uiElement.appendChild(header);const inputContainer=document.createElement("div");inputContainer.style.display="flex",inputContainer.style.justifyContent="center";const inputBox=document.createElement("input");inputBox.type="text",inputBox.style.color="black",inputBox.placeholder="Quiz Id here...",inputBox.style.width="27.8vw",inputBox.style.height="1.5vw",inputBox.style.margin="0vw",inputBox.style.padding="0vw",inputBox.style.padding="0",inputBox.style.border=".1vw solid black",inputBox.style.borderRadius="1vw",inputBox.style.outline="none",inputBox.style.textAlign="center",inputBox.style.fontSize="1.15vw",inputContainer.appendChild(inputBox),uiElement.appendChild(inputContainer);const header2=document.createElement("h2");header2.textContent="POINTS PER QUESTION",header2.style.display="block",header2.style.margin="1vw",header2.style.textAlign="center",header2.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',header2.style.fontSize="2vw",header2.style.color="white",header2.style.textShadow="\n  -1px -1px 0 rgb(47, 47, 47),\n  1px -1px 0 rgb(47, 47, 47),\n  -1px 1px 0 rgb(47, 47, 47),\n  1px 1px 0 rgb(47, 47, 47)\n",uiElement.appendChild(header2);const sliderContainer=document.createElement("div");sliderContainer.style.width="80%",sliderContainer.style.margin="1vw auto",sliderContainer.style.display="flex",sliderContainer.style.alignItems="center",sliderContainer.style.justifyContent="center";const pointsLabel=document.createElement("span");pointsLabel.textContent="Points per Question: 950",pointsLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',pointsLabel.style.fontSize="1.5vw",pointsLabel.style.margin="1vw",pointsLabel.style.marginLeft="1vw",pointsLabel.style.marginRight="1vw",pointsLabel.style.color="white",sliderContainer.appendChild(pointsLabel);const pointsSlider=document.createElement("input");pointsSlider.type="range",pointsSlider.min="500",pointsSlider.max="1000",pointsSlider.value="950",pointsSlider.style.width="70%",pointsSlider.style.marginLeft="1vw",pointsSlider.style.marginRight="1vw",pointsSlider.style.border="none",pointsSlider.style.outline="none",pointsSlider.style.cursor="ew-resize",pointsSlider.className="custom-slider",sliderContainer.appendChild(pointsSlider),uiElement.appendChild(sliderContainer),pointsSlider.addEventListener("input",(()=>{const e=+pointsSlider.value;PPT=e,pointsLabel.textContent="Points per Question: "+e}));const header3=document.createElement("h2");header3.textContent="ANSWERING",header3.style.display="block",header3.style.margin="1vw",header3.style.textAlign="center",header3.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',header3.style.fontSize="2vw",header3.style.color="white",header3.style.textShadow="\n  -1px -1px 0 rgb(47, 47, 47),\n  1px -1px 0 rgb(47, 47, 47),\n  -1px 1px 0 rgb(47, 47, 47),\n  1px 1px 0 rgb(47, 47, 47)\n",uiElement.appendChild(header3);const autoAnswerSwitchContainer=document.createElement("div");autoAnswerSwitchContainer.className="switch-container",autoAnswerSwitchContainer.style.display="flex",autoAnswerSwitchContainer.style.alignItems="center",autoAnswerSwitchContainer.style.justifyContent="center",uiElement.appendChild(autoAnswerSwitchContainer);const autoAnswerLabel=document.createElement("span");autoAnswerLabel.textContent="Auto Answer",autoAnswerLabel.className="switch-label",autoAnswerLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',autoAnswerLabel.style.fontSize="1.5vw",autoAnswerLabel.style.color="white",autoAnswerLabel.style.margin="2.5vw",autoAnswerSwitchContainer.appendChild(autoAnswerLabel);const autoAnswerSwitch=document.createElement("label");autoAnswerSwitch.className="switch",autoAnswerSwitchContainer.appendChild(autoAnswerSwitch);const autoAnswerInput=document.createElement("input");autoAnswerInput.type="checkbox",autoAnswerInput.addEventListener("change",(function(){autoAnswer=this.checked,info.ILSetQuestion=info.questionNum})),autoAnswerSwitch.appendChild(autoAnswerInput);const autoAnswerSlider=document.createElement("span");autoAnswerSlider.className="slider",autoAnswerSwitch.appendChild(autoAnswerSlider);const showAnswersSwitchContainer=document.createElement("div");showAnswersSwitchContainer.className="switch-container",showAnswersSwitchContainer.style.display="flex",showAnswersSwitchContainer.style.alignItems="center",showAnswersSwitchContainer.style.justifyContent="center",uiElement.appendChild(showAnswersSwitchContainer);const showAnswersLabel=document.createElement("span");showAnswersLabel.textContent="Show Answers",showAnswersLabel.className="switch-label",showAnswersLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',showAnswersLabel.style.fontSize="1.5vw",showAnswersLabel.style.color="white",showAnswersLabel.style.margin="2.5vw",showAnswersSwitchContainer.appendChild(showAnswersLabel);const showAnswersSwitch=document.createElement("label");showAnswersSwitch.className="switch",showAnswersSwitchContainer.appendChild(showAnswersSwitch);const showAnswersInput=document.createElement("input");showAnswersInput.type="checkbox",showAnswersInput.addEventListener("change",(function(){showAnswers=this.checked})),showAnswersSwitch.appendChild(showAnswersInput);const showAnswersSlider=document.createElement("span");showAnswersSlider.className="slider",showAnswersSwitch.appendChild(showAnswersSlider);const style=document.createElement("style");style.textContent='\n.custom-slider {\n    background: white\n    border: none;\n    outline: none;\n    cursor: ew-resize;\n    appearance: none; /* Remove default appearance */\n    height: 0; /* Set the height to match the thumb height */\n}\n\n.custom-slider::-webkit-slider-thumb {\n    appearance: none; /* Remove default appearance */\n    width: 1.75vw; /* Set width of the slider handle */\n    height: 1.75vw; /* Set height of the slider handle */\n    background-color: rgb(47, 47, 47); /* Set handle color to dark gray */\n    border-radius: 50%; /* Create a circle for the handle */\n    cursor: ew-resize; /* Horizontal resize cursor */\n    margin-top: -0.5vw; /* Adjust margin-top to vertically center the thumb */\n}\n\n.custom-slider::-webkit-slider-runnable-track {\n    width: 100%; /* Set track width to 100% */\n    height: 0.75vw; /* Set track height to match the thumb height */\n    background-color: white; /* Set track color to white */\n    cursor: ew-resize; /* Horizontal resize cursor */\n    border-radius: 1vw; /* Set rounded corners for the track */\n    background: linear-gradient(to right, red, yellow, limegreen); /* Gradient from red to yellow to green */\n}\n\n\n\n:root {\n  --switch-width: 5.9vw;\n  --switch-height: 3.3vw;\n  --slider-size: 2.5vw;\n  --slider-thumb-size: 1.3vw;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: var(--switch-width);\n  height: var(--switch-height);\n  margin: 2.5vw;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: red;\n  transition: 0.8s;\n  border-radius: .5vw\n}\n\n.slider:before {\n  position: absolute;\n  content: "";\n  height: var(--slider-size);\n  width: var(--slider-size);\n  left: calc(var(--slider-thumb-size) / 3);\n  bottom: calc(var(--slider-thumb-size) / 3);\n  background-color: rgb(43, 43, 43);\n  transition: 0.8s;\n  border-radius: .5vw\n}\n\ninput:checked + .slider {\n  background-color: green;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px green;\n}\n\ninput:checked + .slider:before {\n  transform: translateX(calc(var(--slider-size)));\n}\n\n',document.head.appendChild(style);const header4=document.createElement("h2");header4.textContent="INFO",header4.style.display="block",header4.style.margin="1vw",header4.style.textAlign="center",header4.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',header4.style.fontSize="2vw",header4.style.color="white",header4.style.textShadow="\n  -1px -1px 0 rgb(47, 47, 47),\n  1px -1px 0 rgb(47, 47, 47),\n  -1px 1px 0 rgb(47, 47, 47),\n  1px 1px 0 rgb(47, 47, 47)\n",uiElement.appendChild(header4);const questionsLabel=document.createElement("span");questionsLabel.textContent="Question 0 / 0",questionsLabel.style.display="block",questionsLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',questionsLabel.style.fontSize="1.5vw",questionsLabel.style.textAlign="center",questionsLabel.style.margin="1vw",questionsLabel.style.marginLeft="1vw",questionsLabel.style.marginRight="1vw",questionsLabel.style.color="white",uiElement.appendChild(questionsLabel);const inputLagLabel=document.createElement("span");inputLagLabel.textContent="Input lag : 125 ms",inputLagLabel.style.display="block",inputLagLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',inputLagLabel.style.fontSize="1.5vw",inputLagLabel.style.textAlign="center",inputLagLabel.style.margin="1vw",inputLagLabel.style.marginLeft="1vw",inputLagLabel.style.marginRight="1vw",inputLagLabel.style.color="white",uiElement.appendChild(inputLagLabel);const versionLabel=document.createElement("h1");versionLabel.textContent="KaHack! V"+Version,versionLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',versionLabel.style.fontSize="2.5vw",versionLabel.style.display="block",versionLabel.style.textAlign="center",versionLabel.style.marginTop="3.5vw",versionLabel.style.marginLeft="1vw",versionLabel.style.marginRight="1vw",versionLabel.style.color="white",uiElement.appendChild(versionLabel);const githubContainer=document.createElement("div");githubContainer.style.textAlign="center",githubContainer.style.marginTop="1vw";const githubLabel=document.createElement("span");githubLabel.textContent="GitHub: ",githubLabel.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',githubLabel.style.fontSize="1.5vw",githubLabel.style.margin="0 1vw",githubLabel.style.color="white",githubContainer.appendChild(githubLabel);const githubUrl=document.createElement("a");githubUrl.textContent="jokeri2222",githubUrl.href="https://github.com/jokeri2222",githubUrl.target="_blank",githubUrl.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',githubUrl.style.fontSize="1.5vw",githubUrl.style.margin="0 1vw",githubUrl.style.color="white",githubContainer.appendChild(githubUrl);const githubUrl2=document.createElement("a");githubUrl2.textContent="Epic0001",githubUrl2.href="https://github.com/Epic0001",githubUrl2.target="_blank",githubUrl2.style.fontFamily='"Montserrat", "Noto Sans Arabic", "Helvetica Neue", Helvetica, Arial, sans-serif;',githubUrl2.style.fontSize="1.5vw",githubUrl2.style.margin="0 1vw",githubUrl2.style.color="white",githubContainer.appendChild(githubUrl2),uiElement.appendChild(githubContainer),closeButton.addEventListener("click",(()=>{document.body.removeChild(uiElement),autoAnswer=!1,showAnswers=!1}));let isMinimized=!1;function parseQuestions(e){let t=[];return e.forEach((function(e){let n={type:e.type,time:e.time};if(["quiz","multiple_select_quiz"].includes(e.type)){var i=0;n.answers=[],n.incorrectAnswers=[],e.choices.forEach((function(e){e.correct?n.answers.push(i):n.incorrectAnswers.push(i),i++}))}"open_ended"==e.type&&(n.answers=[],e.choices.forEach((function(e){n.answers.push(e.answer)}))),t.push(n)})),t}function handleInputChange(){const e=inputBox.value;""!=e?fetch("https://kahoot.it/rest/kahoots/"+e).then((e=>{if(!e.ok)throw new Error("");return e.json()})).then((e=>{inputBox.style.backgroundColor="green",questions=parseQuestions(e.questions),info.numQuestions=questions.length})).catch((e=>{inputBox.style.backgroundColor="red",info.numQuestions=0})):(inputBox.style.backgroundColor="white",info.numQuestions=0)}minimizeButton.addEventListener("click",(()=>{isMinimized=!isMinimized,isMinimized?(header.style.display="none",header2.style.display="none",header3.style.display="none",header4.style.display="none",inputContainer.style.display="none",questionsLabel.style.display="none",versionLabel.style.display="none",inputLagLabel.style.display="none",githubContainer.style.display="none",sliderContainer.style.display="none",autoAnswerSwitchContainer.style.display="none",showAnswersSwitchContainer.style.display="none",uiElement.style.height="2.5vw",handle.style.height="100%",closeButton.style.height="100%",minimizeButton.style.height="100%"):(header.style.display="block",header2.style.display="block",header3.style.display="block",header4.style.display="block",inputContainer.style.display="flex",questionsLabel.style.display="block",versionLabel.style.display="block",inputLagLabel.style.display="block",githubContainer.style.display="block",handle.style.height="2.5vw",uiElement.style.height="auto",closeButton.style.height="2.5vw",minimizeButton.style.height="2.5vw",sliderContainer.style.display="flex",autoAnswerSwitchContainer.style.display="flex",showAnswersSwitchContainer.style.display="flex")})),inputBox.addEventListener("input",handleInputChange),document.body.appendChild(uiElement);let offsetX,offsetY,isDragging=!1;function onQuestionStart(){console.log(inputLag);var e=questions[info.questionNum];showAnswers&&highlightAnswers(e),autoAnswer&&answer(e,e.time-e.time/(500/(PPT-500))-inputLag)}function highlightAnswers(e){e.answers.forEach((function(e){setTimeout((function(){FindByAttributeValue("data-functional-selector","answer-"+e,"button").style.backgroundColor="rgb(0, 255, 0)"}),0)})),e.incorrectAnswers.forEach((function(e){setTimeout((function(){FindByAttributeValue("data-functional-selector","answer-"+e,"button").style.backgroundColor="rgb(255, 0, 0)"}),0)}))}function answer(e,t){Answered_PPT=PPT;var n=0;"multiple_select_quiz"==e.type&&(n=60),setTimeout((function(){if("quiz"==e.type){const t=(+e.answers[0]+1).toString(),n=new KeyboardEvent("keydown",{key:t});window.dispatchEvent(n)}"multiple_select_quiz"==e.type&&(e.answers.forEach((function(e){setTimeout((function(){const t=(+e+1).toString(),n=new KeyboardEvent("keydown",{key:t});window.dispatchEvent(n)}),0)})),setTimeout((function(){FindByAttributeValue("data-functional-selector","multi-select-submit-button","button").click()}),0))}),t-n)}handle.addEventListener("mousedown",(e=>{isDragging=!0,offsetX=e.clientX-uiElement.getBoundingClientRect().left,offsetY=e.clientY-uiElement.getBoundingClientRect().top})),document.addEventListener("mousemove",(e=>{if(isDragging){const t=e.clientX-offsetX,n=e.clientY-offsetY;uiElement.style.left=t+"px",uiElement.style.top=n+"px"}})),document.addEventListener("mouseup",(()=>{isDragging=!1}));let isHidden=!1;document.addEventListener("keydown",(e=>{"h"==e.key&&e.altKey&&(isHidden=!isHidden),"x"==e.key&&e.altKey&&(document.body.removeChild(uiElement),autoAnswer=!1,showAnswers=!1),uiElement.style.display=isHidden?"none":"block"})),setInterval((function(){var e=FindByAttributeValue("data-functional-selector","question-index-counter","div");if(e&&(info.questionNum=+e.textContent-1),FindByAttributeValue("data-functional-selector","answer-0","button")&&info.lastAnsweredQuestion!=info.questionNum&&(info.lastAnsweredQuestion=info.questionNun,onQuestionStart()),autoAnswer&&info.ILSetQuestion!=info.questionNum){var t=Answered_PPT;t>987&&(t=1e3);var n=FindByAttributeValue("data-functional-selector","score-increment","span");if(n){info.ILSetQuestion=info.questionNum;var i=+n.textContent.split(" ")[1];0!=i&&((inputLag+=15*(t-i))<0&&(inputLag-=15*(t-i),inputLag+=15*(t-i/2)),inputLag=Math.round(inputLag))}}questionsLabel.textContent="Question "+(info.questionNum+1)+" / "+info.numQuestions,inputLagLabel.textContent="Input lag : "+inputLag+" ms"}),1);</textarea>
